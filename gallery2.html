<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Custom Image Modal Gallery</title>

<style>
/* Trigger box */
.open-modal-btn {
    position: relative;
    width: 100px;
    cursor: pointer;
    margin: 40px;
}
.trigger-img {
    width: 100%;
    border-radius: 6px;
}
.trigger-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.55);
    border-radius: 6px;
    display: flex; justify-content: center; align-items: center;
    color: #fff;
    font-size: 22px;
    font-weight: bold;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    z-index: 9999;
    padding-top: 40px;
}

/* Close button */
.close {
    position: absolute;
    top: 20px; right: 30px;
    color: white;
    font-size: 40px;
    cursor: pointer;
}

/* Big image */
.modal-content {
    text-align: center;
}
.modal-big-image {
    max-width: 90%;
    max-height: 65vh;
    border-radius: 8px;
    cursor: zoom-in;
    transition: transform 0.3s ease;
}

/* Zoom on hover */
.modal-big-image:hover {
    transform: scale(1.3);
    cursor: zoom-out;
}

/* Arrows */
.arrow {
    position: absolute;
    top: 50%;
    color: white;
    font-size: 50px;
    padding: 10px;
    cursor: pointer;
    user-select: none;
}
.arrow.left {
    left: 30px;
}
.arrow.right {
    right: 30px;
}
.arrow:hover {
    color: #ff4444;
}

/* Thumbnail Row */
.thumb-row {
    margin-top: 20px;
    display: flex;
    gap: 10px;
    padding: 10px 40px;
    overflow-x: auto;
    white-space: nowrap;
}
.thumb {
    width: 90px;
    height: 70px;
    object-fit: cover;
    border-radius: 4px;
    cursor: pointer;
    transition: 0.2s;
}
.thumb:hover {
    transform: scale(1.15);
}
.thumb.active {
    outline: 3px solid red;
}
</style>

</head>
<body>

<!-- Trigger (10+ box) -->
<div class="open-modal-btn" onclick="openGallery()">
    <img src="./assets/img/NISSANDUALIS 20S.png?text=Gallery" class="trigger-img">
    <div class="trigger-overlay">10+</div>
</div>

<!-- MODAL -->
<div id="imageModal" class="modal">

    <!-- Close -->
    <span class="close" onclick="closeGallery()">&times;</span>

    <!-- Arrows -->
    <span class="arrow left" onclick="prevImage()">&#10094;</span>
    <span class="arrow right" onclick="nextImage()">&#10095;</span>

    <!-- Main Big Image -->
    <div class="modal-content">
        <img id="modalMainImage" class="modal-big-image" src="">
    </div>

    <!-- Thumbnails -->
    <div class="thumb-row" id="thumbRow">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=1" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=2" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=3" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=4" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=5" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=6" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=7" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=8" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=9" class="thumb">
        <img src="./assets/img/NISSANDUALIS 20S.png?text=10" class="thumb">
    </div>

</div>

<script>
let modal = document.getElementById("imageModal");
let modalMainImage = document.getElementById("modalMainImage");
let thumbs = Array.from(document.querySelectorAll(".thumb"));
let modalIndex = 0;

function openGallery() {
    modal.style.display = "block";
    modalIndex = 0;
    updateModalImage();
}

function closeGallery() {
    modal.style.display = "none";
}

function updateModalImage() {
    modalMainImage.src = thumbs[modalIndex].src;

    thumbs.forEach(t => t.classList.remove("active"));
    thumbs[modalIndex].classList.add("active");
}

thumbs.forEach((thumb, index) => {
    thumb.addEventListener("click", () => {
        modalIndex = index;
        updateModalImage();
    });
});

function nextImage() {
    modalIndex = (modalIndex + 1) % thumbs.length;
    updateModalImage();
}

function prevImage() {
    modalIndex = (modalIndex - 1 + thumbs.length) % thumbs.length;
    updateModalImage();
}

/* Close modal when clicking background */
modal.addEventListener("click", (e) => {
    if (e.target === modal) closeGallery();
});
</script>

</body>
</html>
